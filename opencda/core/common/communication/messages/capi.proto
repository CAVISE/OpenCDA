syntax = "proto3";

package structure_capi;

message Message {
    oneof message {
        ArteryMessage artery = 1;
        OpenCDAMessage opencda = 2;
    }
}

message ArteryMessage {

    // Information received from other vehicles (CAV/RSU/Platoon)
    message Transmission {
        string id = 1;
        repeated Entity entity = 2;
    }

    repeated Transmission transmissions = 1;
}

message OpenCDAMessage {
    repeated Entity entity = 1;
}

message Entity {
    // Unique string ID: e.g., 'cav-1', 'rsu-3', 'platoon-5'
    string id = 1;
    bytes auxillary = 2;
}
